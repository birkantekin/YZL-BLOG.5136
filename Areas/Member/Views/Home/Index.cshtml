@using Framework.Domain.Entities;
@model List<Article>
@{
    ViewData["Title"] = "Anasayfa";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />


<div class="tm-blog-img-container">
</div>

<section class="tm-section">
    <div class="container">
        <div class="row">

            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <div class="tm-blog-post">
                    <h3 class="tm-gold-text">Kişisel Makalelerim</h3>
                    <a asp-action="Create" asp-controller="Home" asp-route-area="Member">Yeni Makale Oluştur</a>
                    <hr />
                    <table class="table table-responsive" id="datatable">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Başlık</th>
                                <th scope="col">İçerik</th>
                                <th scope="col">Tarih</th>
                                <th scope="col">Kategori Adı</th>
                                <th scope="col">Güncelle</th>
                                <th scope="col">Sil</th>
                                <th scope="col">Görüntüle</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <th scope="row">@item.Id</th>
                                    <td><a target="_blank" asp-action="Index" asp-controller="Article" asp-area="" asp-route-id="@item.Id">@item.Title</a></td>
                                    <td><a target="_blank" asp-action="Index" asp-controller="Article" asp-area="" asp-route-id="@item.Id">@(item.Content.Length > 50 ? item.Content.Substring(0, 50) + "..." : item.Content)</a></td>
                                    <td>@item.CreatedDate</td>
                                    <td>@item.Category.Name</td>
                                    <td><a class="btn btn-warning" asp-action="Update" asp-controller="Home" asp-route-id="@item.Id">Güncelle</a></td>
                                    <td><a class="btn btn-danger" asp-action="Remove" asp-controller="Home" asp-route-id="@item.Id">Sil</a></td>
                                    <td><a class="btn btn-info" target="_blank" asp-action="Index" asp-controller="Article" asp-area="" asp-route-id="@item.Id">Görüntüle</a></td>
                                </tr>
                            }
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

@section scripts{
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
<script>
    $(document).ready(function () {
        $('#datatable').DataTable();
    });
</script>
}
